# Entrega 0 - Bases de datos IIC2413

### Student Credentials
**Name:** William Aarland  
**Student Number:** 24410853  

### Server Access Credentials

**UC User:** waarland0@bdd1.ing.puc.cl  
**Password:** 24410853  

---

## Report Content

In this assignment we were tasked to create a program that cleans data from two CSV files, where the data integrity is lost, and must be cleaned and filtered according to the specifications in the [Task Description](Enunciado_BDD_E0.pdf).The program should be able to detect and correct errors in the data, and generate new files with the cleaned data.

### Project Structure

Below is the structure of the project, and its files.

```pseudo
.
├── archivos
│   ├── csv_handling.php
│   ├── data_handling.php
│   ├── data_validation_functions.php
│   ├── enums.php
│   ├── main.php
│   └── validation_maps.php
├── CSV_limpios
│   ├── agendaOK.csv
│   ├── avionesOK.csv
│   ├── busesOK.csv
│   ├── empleadosOK.csv
│   ├── personasOK.csv
│   ├── reservasOK.csv
│   ├── transportesOK.csv
│   ├── trenesOK.csv
│   └── usuariosOK.csv
├── CSV_sucios
│   ├── empleados_rescatados.csv
│   └── usuarios_rescatados.csv
├── Enunciado_BDD_E0.pdf
└── README.md

3 directories, 19 files
```

#### File Descriptions

- `archivos/`: Contains the PHP files that handle the data cleaning and validation process.
  - `csv_handling.php`: Contains functions to read and write CSV files.
  - `data_handling.php`: Contains functions to handle data processing and manipulation.
  - `data_validation_functions.php`: Contains functions to validate data according to the task description.
  - `enums.php`: Contains enumerations for various constants used in the program.
  - `main.php`: The main file that executes the program.
  - `validation_maps.php`: Contains mapping information for validation.

- `CSV_limpios/`: Contains the cleaned CSV files generated by the program.

- `CSV_sucios/`: Contains the original CSV files with dirty data that need to be cleaned.

- `Enunciado_BDD_E0.pdf`: The task description document that contains the specifications and requirements for the assignment.

- `README.md`: This file, which contains the report and instructions for the project.

---

### Analysis of the Data Provided in the Files

The user is provided with two CSV files, `empleados_rescatados.csv`, and `usuarios_rescatados.csv`, which contain information about employees and users, respectively. The structure of the files, and the columns and what they contain, and allowed values can be found in the [Task Description](Enunciado_BDD_E0.pdf) in Section 7 "Formate de los Datos (por arhivo)".

---

### Types of Data Errors Detected by the Program and the Solution Used

This section describes the data errors found and how they were resolved. For example:

- **Missing or `null` values:** The program checks according to the task description whether the column admits `null` values. If it does not, the program will discard that row, and consider it invalid.
- **Invalid values:** The program checks if the values in the columns are valid according to the task description. If they are not, the program will discard that row, and consider it invalid.
- **Duplicate entries:** The program does not check for duplicate values, as the task description does not specify that this is a requirement.

---

### Names of the Output Files and Explanation of Their Content

Below is a list of the output files generated by the program after cleaning and validating the input data:

- `personasOK.csv`: Contains general personal information shared by both users and employees, such as name, RUN, DV, email, password, username, and contact phone number.

- `usuariosOK.csv`: Contains additional information specific to users, such as their points. This is extracted from `usuarios_rescatados.csv`.

- `empleadosOK.csv`: Contains additional employee-specific data such as work schedule (`jornada`), health insurance (`isapre`), and contract type. This is extracted from `empleados_rescatados.csv`.

- `agendasOK.csv`: Contains agenda data linked to users, including user email, agenda code, label, and creation date.

- `reservasOK.csv`: Contains reservation data made by users, including agenda code, reservation code, date, amount, and number of people.

- `transportesOK.csv`: Contains general transport information assigned to employees, including employee email, reservation code, trip number, origin, destination, capacity, estimated travel time, seat price, and transport company.

- `busesOK.csv`: Contains additional fields specific to buses, such as bus type and available amenities (`comodidades`).

- `trenesOK.csv`: Contains additional fields specific to trains, such as stops (`paradas`) and amenities.

- `avionesOK.csv`: Contains additional fields specific to planes, such as layovers (`escalas`) and travel class.

- `datos_descartados.csv`: Contains rows that were discarded due to validation errors or missing required fields.

---

### Instructions to Execute the Program

It is essential to provide clear instructions to execute the program (all necessary steps, as if starting from scratch). For example:

1. Credentials to connect to the server can be found [here](#server-access-credentials).
   - **Username:** waarland0  
   - **Password:** 24410853
   - **Note:** The password is the same as the student number.

   > Note: The password is not the same as the one used to access the UC account.

2. **Connect to the server via SSH:**
   - Execute the command: `ssh JuanPerez@bdd1.ing.puc.cl`  
   - Enter the password.  

3. **Execute the `main.php` file:**
   - Navigate to `./Sites/E0/archivos/`.  
   - Execute the command: `php main.php`.  
   - Wait for the process to finish.

---

### Future Improvements

#### Missing features

- The program does not handled rows that are not used. These rows should be added to the `datos_descartados_usuarios.csv`, and `datos_descartados_empleados.csv`, for the `usuarios`, and `empleados` respectively.

- The program does not check for duplicate values. Implementing code to handle this should be implemented.

#### Code Quality

- Due to lack of time there areas of code duplication, and code quality could be improved by using the principles of modularity, abstraction, and orthogonalization. This would make the code more readable, and easier to maintain.

- Performance optimization by not loading the entire files into memory.
